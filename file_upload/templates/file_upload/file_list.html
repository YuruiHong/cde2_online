{% extends "file_upload/base.html" %}

{% block content %}
<h1>Enjoy extracting chemical data within a click!</h1>
<h3>Current File List</h3>
{% comment %} <p> <a href="/file/upload1/">RegularFormUpload</a> | <a href="/file/upload2/">ModelFormUpload</a> {% endcomment %}
    {% comment %} | <a href="/file/upload3/">AjaxUpload</a></p> {% endcomment %}
{% if files %}
{% load split %}
<table class="table table-striped">

    <tbody>
    <tr>
        <td>Original File</td>
        <td>Description</td>
        <td>Filesize</td>
        <td>Contributor</td>
    </tr>
    {% for file in files %}
    <tr>
        <!-- Option 1 <td><a href="{{ file.file.url }}/">{{ file.file.url }}</a></td> -->
        {% comment %} <td><a href="/file/download{{ file.file.url }}/">{{ file.file.url }}</a></td> {% endcomment %}
        <!-- get ext name from url-->
        
        <td><a href="/file/download{{ file.file.url }}/">{{ file.file.url |split:"/" | last }}</a></td>
        <td>{{ file.description }}</td>
        <td>{{ file.file.size | filesizeformat }}</td>
        <td>{{ file.contributor }}</td>
    </tr>
    {% endfor %}
    </tbody>
</table>

{% else %}
<p>No files uploaded yet. Please click the button below to upload files.</p>
{% endif %}

<p><a href="/file/upload3/">Upload New File</a></p>

{% endblock %}